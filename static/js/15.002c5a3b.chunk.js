(this["webpackJsonp@uniswap/widgets"]=this["webpackJsonp@uniswap/widgets"]||[]).push([[15,89],{402:function(n,t,e){"use strict";e.r(t),e.d(t,"usePendingTransactions",(function(){return l})),e.d(t,"useAddTransaction",(function(){return f})),e.d(t,"usePendingApproval",(function(){return b})),e.d(t,"TransactionsUpdater",(function(){return v}));var a=e(164),c=e(205),i=e(653),r=e(1),o=e(31),u=e(118),s=e(339),d=e(0);function l(){var n,t=Object(c.default)().chainId,e=Object(a.useAtomValue)(i.transactionsAtom);return null!==(n=t?e[t]:null)&&void 0!==n?n:{}}function f(){var n=Object(c.default)().chainId,t=Object(u.default)(),e=Object(a.useUpdateAtom)(i.transactionsAtom);return Object(r.useCallback)((function(a){Object(o.default)(n);var c=n,i=a.response.hash;e((function(e){var r=e[c]||{};r[i]={addedTime:(new Date).getTime(),lastCheckedBlockNumber:t,info:a},e[n]=r}))}),[t,n,e])}function b(n,t){var e,r=Object(c.default)().chainId,o=Object(a.useAtomValue)(i.transactionsAtom);if(r&&n&&t){var u=o[r];if(u)return null===(e=Object.values(u).find((function(e){return e&&void 0===e.receipt&&e.info.type===i.TransactionType.APPROVAL&&e.info.tokenAddress===n.address&&e.info.spenderAddress===t&&(a=e,Date.now()-a.addedTime<864e5);var a})))||void 0===e?void 0:e.info.response.hash}}function v(){var n=l(),t=Object(a.useUpdateAtom)(i.transactionsAtom),e=Object(r.useCallback)((function(n){var e=n.chainId,a=n.hash,c=n.blockNumber;t((function(n){var t,i=null===(t=n[e])||void 0===t?void 0:t[a];i&&(i.lastCheckedBlockNumber=i.lastCheckedBlockNumber?Math.max(i.lastCheckedBlockNumber,c):c)}))}),[t]),c=Object(r.useCallback)((function(n){var e=n.chainId,a=n.hash,c=n.receipt;t((function(n){var t,i=null===(t=n[e])||void 0===t?void 0:t[a];i&&(i.receipt=c)}))}),[t]);return Object(d.jsx)(s.default,{pendingTransactions:n,onCheck:e,onReceipt:c})}},653:function(n,t,e){"use strict";e.r(t),e.d(t,"TransactionType",(function(){return a})),e.d(t,"transactionsAtom",(function(){return i}));var a,c=e(1146);!function(n){n[n.APPROVAL=0]="APPROVAL",n[n.SWAP=1]="SWAP"}(a||(a={}));var i=Object(c.atomWithImmer)({})}}]);
//# sourceMappingURL=15.002c5a3b.chunk.js.map