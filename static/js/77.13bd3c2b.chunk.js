(this["webpackJsonp@uniswap/widgets"]=this["webpackJsonp@uniswap/widgets"]||[]).push([[77],{675:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return x}));var r=e(11),i=e(412),c=e(3),a=e.n(c),o=e(6),u=e(5),s=e(17),h=e(18),d=e(458),f=function(t,n,e,r){return new(e||(e=Promise))((function(i,c){function a(t){try{u(r.next(t))}catch(n){c(n)}}function o(t){try{u(r.throw(t))}catch(n){c(n)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,o)}u((r=r.apply(t,n||[])).next())}))};function v(t){return Number.parseInt(t,16)}var p=function(t){Object(s.a)(e,t);var n=Object(h.a)(e);function e(t,i){var c,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Object(o.a)(this,e),(c=n.call(this,t)).provider=i,c.provider.on("connect",(function(t){var n=t.chainId;c.actions.update({chainId:v(n)})})),c.provider.on("disconnect",(function(t){c.actions.reportError(t)})),c.provider.on("chainChanged",(function(t){c.actions.update({chainId:v(t)})})),c.provider.on("accountsChanged",(function(t){c.actions.update({accounts:t})})),a){var u=c.actions.startActivation();Promise.all([c.provider.request({method:"eth_chainId"}),c.provider.request({method:"eth_accounts"})]).then((function(t){var n=Object(r.a)(t,2),e=n[0],i=n[1];c.actions.update({chainId:v(e),accounts:i})})).catch((function(t){console.debug("Could not connect eagerly",t),u()}))}return c}return Object(u.a)(e,[{key:"activate",value:function(){return f(this,void 0,void 0,a.a.mark((function t(){var n=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.actions.startActivation(),t.abrupt("return",Promise.all([this.provider.request({method:"eth_chainId"}),this.provider.request({method:"eth_requestAccounts"})]).then((function(t){var e=Object(r.a)(t,2),i=e[0],c=e[1];n.actions.update({chainId:v(i),accounts:c})})).catch((function(t){n.actions.reportError(t)})));case 2:case"end":return t.stop()}}),t,this)})))}}]),e}(d.a),l=function(t,n,e,r){return new(e||(e=Promise))((function(i,c){function a(t){try{u(r.next(t))}catch(n){c(n)}}function o(t){try{u(r.throw(t))}catch(n){c(n)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,o)}u((r=r.apply(t,n||[])).next())}))},b=function(t){Object(s.a)(i,t);var n=Object(h.a)(i);function i(t,e){var r,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(o.a)(this,i),(r=n.call(this,t)).url=e,c&&r.initialize(),r}return Object(u.a)(i,[{key:"initialize",value:function(){return l(this,void 0,void 0,a.a.mark((function t(){var n,i,c,o,u,s=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.actions.startActivation(),this.provider){t.next=10;break}return t.next=4,Promise.all([e.e(112).then(e.bind(null,1686)).then((function(t){return t.JsonRpcProvider})),e.e(109).then(e.bind(null,1687)).then((function(t){return t.Eip1193Bridge}))]);case 4:n=t.sent,i=Object(r.a)(n,2),c=i[0],o=i[1],u=new c(this.url),this.provider=new o(u.getSigner(),u);case 10:return t.abrupt("return",this.provider.request({method:"eth_chainId"}).then((function(t){s.actions.update({chainId:t,accounts:[]})})).catch((function(t){s.actions.reportError(t)})));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"activate",value:function(){return l(this,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.initialize());case 1:case"end":return t.stop()}}),t,this)})))}}]),i}(d.a),w=e(164),j=e(309),m=e(1),O=e(0);function g(t,n,e){return Object(m.useEffect)((function(){if(n){var c=Object(i.initializeConnector)((function(e){return new t(e,n)})),a=Object(r.a)(c,2),o=a[0],u=a[1];e([o,u])}else e(w.RESET)}),[t,n,e])}function x(t){var n=t.jsonRpcEndpoint,e=t.provider,r=t.children,i=Object(w.useUpdateAtom)(j.urlAtom);g(b,n,i);var c=Object(w.useUpdateAtom)(j.injectedAtom);return g(p,e,c),Object(O.jsx)(O.Fragment,{children:r})}}}]);
//# sourceMappingURL=77.13bd3c2b.chunk.js.map