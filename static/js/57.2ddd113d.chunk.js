(this["webpackJsonp@uniswap/widgets"]=this["webpackJsonp@uniswap/widgets"]||[]).push([[57,15,67,80,88],{401:function(e,t,n){"use strict";n.r(t),n.d(t,"amountAtom",(function(){return s})),n.d(t,"useSwitchSwapCurrencies",(function(){return l})),n.d(t,"useSwapCurrency",(function(){return b})),n.d(t,"useSwapAmount",(function(){return O})),n.d(t,"useIsAmountPopulated",(function(){return f}));var u=n(11),r=n(267),c=n(164),o=n(635),a=n(633),i=n(1),d=n(648);n.d(t,"useSwapInfo",(function(){return d.default}));var s=Object(o.pickAtom)(a.swapAtom,"amount");function l(){var e=Object(c.useUpdateAtom)(a.swapAtom);return Object(i.useCallback)((function(){e((function(e){var t=e[a.Field.OUTPUT];switch(e[a.Field.OUTPUT]=e[a.Field.INPUT],e[a.Field.INPUT]=t,e.independentField){case a.Field.INPUT:e.independentField=a.Field.OUTPUT;break;case a.Field.OUTPUT:e.independentField=a.Field.INPUT}}))}),[e])}function b(e){var t=Object(i.useMemo)((function(){return Object(o.pickAtom)(a.swapAtom,e)}),[e]),n=Object(i.useMemo)((function(){return Object(o.pickAtom)(a.swapAtom,function(e){switch(e){case a.Field.INPUT:return a.Field.OUTPUT;case a.Field.OUTPUT:return a.Field.INPUT}}(e))}),[e]),d=Object(r.useAtom)(t),s=Object(u.a)(d,2),b=s[0],O=s[1],f=Object(c.useAtomValue)(n),j=l(),p=Object(i.useCallback)((function(e){e===f?j():O(e)}),[f,O,j]);return[b,p]}function O(e){var t=Object(c.useAtomValue)(s),n=Object(c.useAtomValue)(a.independentFieldAtom),u=Object(i.useMemo)((function(){return n===e?t:void 0}),[t,n,e]),r=Object(c.useUpdateAtom)(a.swapAtom),o=Object(i.useCallback)((function(t){return r((function(n){n.independentField=e,n.amount=t}))}),[e,r]);return[u,o]}function f(){return Boolean(Object(c.useAtomValue)(s))}},402:function(e,t,n){"use strict";n.r(t),n.d(t,"usePendingTransactions",(function(){return l})),n.d(t,"useAddTransaction",(function(){return b})),n.d(t,"usePendingApproval",(function(){return O})),n.d(t,"TransactionsUpdater",(function(){return f}));var u=n(164),r=n(205),c=n(653),o=n(1),a=n(31),i=n(118),d=n(339),s=n(0);function l(){var e,t=Object(r.default)().chainId,n=Object(u.useAtomValue)(c.transactionsAtom);return null!==(e=t?n[t]:null)&&void 0!==e?e:{}}function b(){var e=Object(r.default)().chainId,t=Object(i.default)(),n=Object(u.useUpdateAtom)(c.transactionsAtom);return Object(o.useCallback)((function(u){Object(a.default)(e);var r=e,c=u.response.hash;n((function(n){var o=n[r]||{};o[c]={addedTime:(new Date).getTime(),lastCheckedBlockNumber:t,info:u},n[e]=o}))}),[t,e,n])}function O(e,t){var n,o=Object(r.default)().chainId,a=Object(u.useAtomValue)(c.transactionsAtom);if(o&&e&&t){var i=a[o];if(i)return null===(n=Object.values(i).find((function(n){return n&&void 0===n.receipt&&n.info.type===c.TransactionType.APPROVAL&&n.info.tokenAddress===e.address&&n.info.spenderAddress===t&&(u=n,Date.now()-u.addedTime<864e5);var u})))||void 0===n?void 0:n.info.response.hash}}function f(){var e=l(),t=Object(u.useUpdateAtom)(c.transactionsAtom),n=Object(o.useCallback)((function(e){var n=e.chainId,u=e.hash,r=e.blockNumber;t((function(e){var t,c=null===(t=e[n])||void 0===t?void 0:t[u];c&&(c.lastCheckedBlockNumber=c.lastCheckedBlockNumber?Math.max(c.lastCheckedBlockNumber,r):r)}))}),[t]),r=Object(o.useCallback)((function(e){var n=e.chainId,u=e.hash,r=e.receipt;t((function(e){var t,c=null===(t=e[n])||void 0===t?void 0:t[u];c&&(c.receipt=r)}))}),[t]);return Object(s.jsx)(d.default,{pendingTransactions:e,onCheck:n,onReceipt:r})}},648:function(e,t,n){"use strict";n.r(t),n.d(t,"SwapInfoUpdater",(function(){return U})),n.d(t,"default",(function(){return P}));var u=n(10),r=n(2),c=n(9),o=n(459),a=n(267),i=n(164),d=n(155),s=n(636),l=n(633),b=n(121),O=n(1),f=n(116),j=n(72),p=n(205),v=n(654),m=n(0),T={"0x9Ad6C38BE94206cA50bb0d90783181662f0Cfa10":!0,"0xE54Ca86531e17Ef3616d22Ca28b0D458b6C89106":!0,"0x60aE616a2155Ee3d9A68541Ba4544862310933d4":!0};var A=Object(a.atom)({currencies:{},currencyBalances:{},currencyAmounts:{},trade:{state:f.b.INVALID},allowedSlippage:new c.Percent(0),feeOptions:void 0});function U(){var e=Object(i.useUpdateAtom)(A),t=function(){var e,t,n,a=Object(p.default)().account,f=Object(i.useAtomValue)(l.swapAtom),A=f.independentField,U=f.amount,P=f[l.Field.INPUT],h=f[l.Field.OUTPUT],I=Object(i.useAtomValue)(l.feeOptionsAtom),y=a,C=Object(d.useCurrencyBalances)(a,Object(O.useMemo)((function(){return[null!==P&&void 0!==P?P:void 0,null!==h&&void 0!==h?h:void 0]}),[P,h])),N=A===l.Field.INPUT,k=Object(O.useMemo)((function(){var e;return Object(b.default)(U,null!==(e=N?P:h)&&void 0!==e?e:void 0)}),[P,N,h,U]),F=Object(v.useBestTrade)(N?c.TradeType.EXACT_INPUT:c.TradeType.EXACT_OUTPUT,k,null!==(e=N?h:P)&&void 0!==e?e:void 0),w=Object(O.useMemo)((function(){var e;return e={},Object(u.a)(e,l.Field.INPUT,null!==P&&void 0!==P?P:void 0),Object(u.a)(e,l.Field.OUTPUT,null!==h&&void 0!==h?h:void 0),e}),[P,h]),x=Object(O.useMemo)((function(){var e;return e={},Object(u.a)(e,l.Field.INPUT,C[0]),Object(u.a)(e,l.Field.OUTPUT,C[1]),e}),[C]),g=Object(O.useMemo)((function(){var e,t,n;return n={},Object(u.a)(n,l.Field.INPUT,null===(e=F.trade)||void 0===e?void 0:e.inputAmount),Object(u.a)(n,l.Field.OUTPUT,null===(t=F.trade)||void 0===t?void 0:t.outputAmount),n}),[null===(t=F.trade)||void 0===t?void 0:t.inputAmount,null===(n=F.trade)||void 0===n?void 0:n.outputAmount]),S=Object(o.a)(F.trade),E=Object(i.useAtomValue)(s.maxSlippageAtom),V=Object(O.useMemo)((function(){return"auto"===E?S:E}),[S,E]),M=Object(O.useMemo)((function(){var e,t,n,u;a||(t=Object(m.jsx)(r.b,{id:"Connect Wallet"})),w[l.Field.INPUT]&&w[l.Field.OUTPUT]||(t=null!==(n=t)&&void 0!==n?n:Object(m.jsx)(r.b,{id:"Select token"})),k||(t=null!==(u=t)&&void 0!==u?u:Object(m.jsx)(r.b,{id:"Enter an amount"}));var c,o,i=Object(j.c)(y);y&&i?T[i]&&(t=null!==(c=t)&&void 0!==c?c:Object(m.jsx)(r.b,{id:"Invalid recipient"})):t=null!==(o=t)&&void 0!==o?o:Object(m.jsx)(r.b,{id:"Enter a recipient"});var d=[x[l.Field.INPUT],null===(e=F.trade)||void 0===e?void 0:e.maximumAmountIn(V)],s=d[0],b=d[1];return s&&b&&s.lessThan(b)&&(t=Object(m.jsx)(r.b,{id:"Insufficient {0} balance",values:{0:b.currency.symbol}})),t}),[a,V,w,x,k,y,F.trade]);return Object(O.useMemo)((function(){return{currencies:w,currencyBalances:x,currencyAmounts:g,inputError:M,trade:F,allowedSlippage:V,feeOptions:I}}),[w,x,g,M,F,V,I])}();return Object(O.useEffect)((function(){e(t)}),[t,e]),null}function P(){return Object(i.useAtomValue)(A)}},651:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var u=n(3),r=n.n(u),c=n(25),o=n(11),a=n(78),i=n(9),d=n(105),s=n(1),l=n(116),b=n(408),O=n(205),f=n(206),j=n(337),p={protocols:[a.Protocol.V2,a.Protocol.V3]};function v(e,t,n){var u,a=null===t||void 0===t?void 0:t.currency.chainId,v=Object(O.default)().library,m=Object(s.useMemo)((function(){return e===i.TradeType.EXACT_INPUT?[null===t||void 0===t?void 0:t.currency,n]:[n,null===t||void 0===t?void 0:t.currency]}),[t,n,e]),T=Object(o.a)(m,2),A=T[0],U=T[1],P=Object(j.useRoutingAPIArguments)({tokenIn:A,tokenOut:U,amount:t,tradeType:e,useClientSideRouter:!0}),h=Object(s.useMemo)((function(){return a&&v&&{chainId:a,provider:v}}),[a,v]),I=Object(s.useState)(!1),y=Object(o.a)(I,2),C=y[0],N=y[1],k=Object(s.useState)({quoteResult:void 0,error:void 0}),F=Object(o.a)(k,2),w=F[0],x=w.quoteResult,g=w.error,S=F[1];Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!P||!h){e.next=6;break}return e.next=4,Object(f.getClientSideQuote)(P,h,p);case 4:t=e.sent,S({quoteResult:t.data,error:t.error});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S({quoteResult:void 0,error:!0});case 11:return e.prev=11,N(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}N(!0),function(){e.apply(this,arguments)}()}),[P,h]);var E=Object(s.useMemo)((function(){return Object(b.a)(A,U,e,x)}),[A,U,x,e]),V=null!==(u=Object(d.b)(null===x||void 0===x?void 0:x.gasUseEstimateUSD))&&void 0!==u?u:null;return Object(s.useMemo)((function(){if(!A||!U)return{state:l.b.INVALID,trade:void 0};if(C&&!x)return{state:l.b.LOADING,trade:void 0};var t=void 0;if(e===i.TradeType.EXACT_INPUT&&U&&x&&(t=i.CurrencyAmount.fromRawAmount(U,x.quote)),e===i.TradeType.EXACT_OUTPUT&&A&&x&&(t=i.CurrencyAmount.fromRawAmount(A,x.quote)),g||!t||!E||0===E.length||!P)return{state:l.b.NO_ROUTE_FOUND,trade:void 0};try{var n=Object(b.b)(E,e,V);return{state:l.b.VALID,trade:n}}catch(u){return console.debug("transformRoutesToTrade failed: ",u),{state:l.b.INVALID,trade:void 0}}}),[A,U,C,x,e,g,E,P,V])}},653:function(e,t,n){"use strict";n.r(t),n.d(t,"TransactionType",(function(){return u})),n.d(t,"transactionsAtom",(function(){return c}));var u,r=n(1144);!function(e){e[e.APPROVAL=0]="APPROVAL",e[e.SWAP=1]="SWAP"}(u||(u={}));var c=Object(r.atomWithImmer)({})},654:function(e,t,n){"use strict";n.r(t),n.d(t,"useBestTrade",(function(){return l}));var u=n(15),r=n(11),c=n(9),o=n(338),a=n(137),i=n(1),d=n(116),s=n(651);function l(e,t,n){var l=Object(a.a)(Object(i.useMemo)((function(){return[t,n]}),[t,n]),200),b=Object(r.a)(l,2),O=b[0],f=b[1],j=Object(s.default)(e,O,f),p=function(e,t){if(e){if(t===c.TradeType.EXACT_INPUT)return[e.inputAmount,e.inputAmount.currency,e.outputAmount.currency];if(t===c.TradeType.EXACT_OUTPUT)return[e.outputAmount,e.outputAmount.currency,e.inputAmount.currency]}return[void 0,void 0,void 0]}(j.trade,e),v=Object(r.a)(p,3),m=v[0],T=v[1],A=v[2],U=t&&O&&t!==O||t&&f&&n&&f!==n,P=t&&function(e){var t,n,u,r=e.amounts,c=e.indepdenentCurrencies,o=e.dependentCurrencies,a=r[0]&&(null===(t=r[1])||void 0===t?void 0:t.equalTo(r[0])),i=c[0]&&(null===(n=c[1])||void 0===n?void 0:n.equals(c[0]))&&o[0]&&(null===(u=o[1])||void 0===u?void 0:u.equals(o[0]));return!a||!i}({amounts:[m,t],indepdenentCurrencies:[T,null===t||void 0===t?void 0:t.currency],dependentCurrencies:[A,f]}),h=!P&&j.state===d.b.NO_ROUTE_FOUND,I=Object(o.a)(e,h?O:void 0,h?f:void 0);return Object(i.useMemo)((function(){return Object(u.a)(Object(u.a)(Object(u.a)({},h?I:j),P?{state:d.b.SYNCING}:{}),U?{state:d.b.LOADING}:{})}),[U,I,P,j,h])}},659:function(e,t,n){"use strict";n.r(t),n.d(t,"useDefaultTransactionTtl",(function(){return l})),n.d(t,"useTransactionTtl",(function(){return b})),n.d(t,"default",(function(){return O}));var u=n(11),r=n(13),c=n(47),o=n(215),a=n(267),i=n(636),d=n(1),s=n(205);function l(){var e=Object(s.default)().chainId;return e&&r.d.includes(e)?c.k/60:c.h/60}function b(){return Object(a.useAtom)(i.transactionTtlAtom)}function O(){var e=b(),t=Object(u.a)(e,1)[0],n=l(),r=Object(o.a)();return Object(d.useMemo)((function(){if(r)return r.add(60*(t||n))}),[r,n,t])}},686:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var u,r=n(15),c=n(11),o=n(32),a=n(2),i=n(9),d=n(124),s=n(177),l=n(164),b=n(401),O=n(312),f=n(341),j=n(402),p=n(205),v=n(659),m=n(400),T=n(633),A=n(653),U=n(399),P=n(1),h=n(31),I=n(650),y=n(637),C=n(629),N=n(405),k=n(0),F=U.default.a(u||(u=Object(o.a)(["\n  color: currentColor;\n  text-decoration: none;\n"])));function w(e,t){return Boolean(Object(j.usePendingApproval)(e,t))}function x(e){var t=e.disabled,n=Object(p.default)(),u=n.account,o=n.chainId,x=Object(U.useTheme)().tokenColorExtraction,g=Object(b.useSwapInfo)(),S=g.trade,E=g.allowedSlippage,V=g.currencies[T.Field.INPUT],M=g.currencyBalances[T.Field.INPUT],R=g.currencyAmounts,D=R[T.Field.INPUT],_=R[T.Field.OUTPUT],B=g.feeOptions,L=Object(l.useAtomValue)(T.independentFieldAtom),q=Object(P.useState)(),X=Object(c.a)(q,2),W=X[0],G=X[1];Object(P.useEffect)((function(){G((function(e){return e&&S.trade}))}),[S]);var J=Object(O.useSwapApprovalOptimizedTrade)(S.trade,E,w)||S.trade,z=Object(O.default)(J,E,w),H=Object(c.a)(z,2),Q=H[0],Y=H[1],K=Object(j.usePendingApproval)((null===V||void 0===V?void 0:V.isToken)?V:void 0,Object(O.useSwapRouterAddress)(J)),Z=Object(j.useAddTransaction)(),$=Object(P.useCallback)((function(){Y().then((function(e){e&&Z(Object(r.a)({type:A.TransactionType.APPROVAL},e))}))}),[Z,Y]),ee=Object(P.useMemo)((function(){return t?{disabled:!0}:o&&D&&(null===M||void 0===M?void 0:M.greaterThan(D))?Q===O.ApprovalState.PENDING?{disabled:!0,update:{message:Object(k.jsx)(F,{href:K&&"".concat(d.a[o].explorer,"tx/").concat(K),target:"_blank",children:Object(k.jsx)(C.default,{gap:.25,children:Object(k.jsx)(a.b,{id:"Approval pending <0/>",components:{0:Object(k.jsx)(m.Link,{})}})})}),action:Object(k.jsx)(a.b,{id:"Approve"}),icon:m.Spinner}}:Q===O.ApprovalState.NOT_APPROVED?{update:{message:Object(k.jsx)(a.b,{id:"Approve {0} first",values:{0:D.currency.symbol}}),action:Object(k.jsx)(a.b,{id:"Approve"})}}:{}:{disabled:!0}}),[Q,K,o,t,D,M]),te=Object(v.default)(),ne=Object(s.d)(J,E,te).signatureData,ue=Object(f.useSwapCallback)({trade:J,allowedSlippage:E,recipientAddressOrName:null!==u&&void 0!==u?u:null,signatureData:ne,deadline:te,feeOptions:B}).callback,re=Object(l.useUpdateAtom)(T.displayTxHashAtom),ce=Object(P.useCallback)((function(){null===ue||void 0===ue||ue().then((function(e){re(e.hash),Object(h.default)(D&&_),Z({response:e,type:A.TransactionType.SWAP,tradeType:L===T.Field.INPUT?i.TradeType.EXACT_INPUT:i.TradeType.EXACT_OUTPUT,inputCurrencyAmount:D,outputCurrencyAmount:_})})).catch((function(e){console.log(e)})).finally((function(){G(void 0)}))}),[Z,L,D,_,re,ue]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I.default,Object(r.a)(Object(r.a)({color:x?"interactive":"accent",onClick:function(){return G(S.trade)},onUpdate:$},ee),{},{children:Object(k.jsx)(a.b,{id:"Review swap"})})),W&&Object(k.jsx)(y.default,{color:"dialog",onClose:function(){return G(void 0)},children:Object(k.jsx)(N.SummaryDialog,{trade:W,allowedSlippage:E,onConfirm:ce})})]})}}}]);
//# sourceMappingURL=57.2ddd113d.chunk.js.map