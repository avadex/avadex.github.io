{"version":3,"sources":["lib/theme/index.tsx","lib/theme/styled.ts","lib/theme/dynamic.tsx","lib/theme/layer.ts","lib/theme/type.tsx","../node_modules/popper-max-size-modifier/dist/popper-max-size-modifier.esm.js","lib/components/Popover.tsx"],"names":["styled","brand","stateColors","active","success","warning","error","lightTheme","accent","container","module","interactive","outline","dialog","onAccent","primary","secondary","hint","onInteractive","currentColor","darkThemeAccent","darkTheme","readableColor","defaultTheme","borderRadius","fontFamily","fontFamilyVariable","fontFamilyCode","tokenColorExtraction","useSystemTheme","prefersDark","window","matchMedia","useState","matches","systemTheme","setSystemTheme","addEventListener","e","ThemeContext","createContext","toComputedTheme","ThemeProvider","theme","children","contextTheme","useContext","value","useMemo","Provider","Number","isFinite","Math","min","max","onHover","color","transparentize","mix","css","styledCss","keyframes","styledKeyframes","useTheme","useStyled","ThemedProvider","StyledProvider","black","white","light","dark","getDynamicTheme","colors","opacify","DynamicThemeProvider","accessibleColor","AAscore","hex","contrastify","darken","lighten","getAccessibleColor","style","Layer","TextWrapper","Text","lineHeight","TransitionTextWrapper","H1","props","className","fontSize","fontWeight","H2","H3","Subhead1","Subhead2","Body1","Body2","Caption","Badge","ButtonLarge","ButtonMedium","ButtonSmall","TransitionButton","buttonSize","small","medium","large","Code","maxSize","name","enabled","phase","requiresIfExists","fn","_ref","state","options","overflow","detectOverflow","_ref2","modifiersData","preventOverflow","x","y","_state$rects$popper","rects","popper","width","height","basePlacement","placement","split","widthProp","heightProp","BoundaryContext","BoundaryProvider","PopoverContainer","div","show","TOOLTIP","Reference","Arrow","Popover","content","offset","contained","boundary","reference","useRef","popover","setPopover","arrow","setArrow","modifiers","element","padding","push","requires","styles","maxWidth","strategy","usePopper","current","attributes","ref","createPortal"],"mappings":"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","file":"static/js/38.b6507b97.chunk.js","sourcesContent":["import 'lib/assets/fonts.scss'\nimport '@fontsource/ibm-plex-mono/400.css'\nimport '@fontsource/inter/variable.css'\nimport '@fontsource/inter/400.css'\nimport '@fontsource/inter/500.css'\nimport '@fontsource/inter/600.css'\n\nimport { mix, readableColor, transparentize } from 'polished'\nimport { createContext, ReactNode, useContext, useMemo, useState } from 'react'\n\nimport styled, { ThemedProvider } from './styled'\nimport { Colors, ComputedTheme, Theme } from './theme'\n\nexport default styled\nexport * from './dynamic'\nexport * from './layer'\nexport * from './styled'\nexport * from './theme'\nexport * as ThemedText from './type'\n\nexport const brand = 'hsl(331.3, 100%, 50%)'\n\nconst stateColors = {\n  active: 'hsl(215, 79%, 51.4%)',\n  success: 'hsl(145, 63.4%, 41.8%)',\n  warning: 'hsl(43, 89.9%, 53.5%)',\n  error: 'hsl(0, 98%, 62.2%)',\n}\n\nexport const lightTheme: Colors = {\n  // surface\n  accent: brand,\n  container: 'hsl(220, 23%, 97.5%)',\n  module: 'hsl(231, 14%, 90%)',\n  interactive: 'hsl(229, 13%, 83%)',\n  outline: 'hsl(225, 7%, 78%)',\n  dialog: 'hsl(0, 0%, 100%)',\n\n  // text\n  onAccent: 'hsl(0, 0%, 100%)',\n  primary: 'hsl(0, 0%, 0%)',\n  secondary: 'hsl(227, 10%, 37.5%)',\n  hint: 'hsl(224, 9%, 57%)',\n  onInteractive: 'hsl(0, 0%, 0%)',\n\n  // state\n  ...stateColors,\n\n  currentColor: 'currentColor',\n}\n\nconst darkThemeAccent = 'hsl(215, 79%, 51.4%)'\n\nexport const darkTheme: Colors = {\n  // surface\n  accent: darkThemeAccent,\n  container: 'hsl(220, 10.7%, 11%)',\n  module: 'hsl(222, 10.2%, 19.2%)',\n  interactive: 'hsl(224, 10.5%, 281%)',\n  outline: 'hsl(227, 10%, 37.5%)',\n  dialog: 'hsl(0, 0%, 0%)',\n\n  // text\n  onAccent: readableColor(darkThemeAccent),\n  primary: 'hsl(0, 0%, 100%)',\n  secondary: 'hsl(224, 8.7%, 57.1%)',\n  hint: 'hsl(225, 10%, 47.1%)',\n  onInteractive: 'hsl(0, 0%, 100%)',\n\n  // state\n  ...stateColors,\n\n  currentColor: 'currentColor',\n}\n\nexport const defaultTheme = {\n  borderRadius: 1,\n  fontFamily: '\"Inter\", sans-serif',\n  fontFamilyVariable: '\"InterVariable\", sans-serif',\n  fontFamilyCode: 'IBM Plex Mono',\n  tokenColorExtraction: false,\n  ...lightTheme,\n}\n\nexport function useSystemTheme() {\n  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)')\n  const [systemTheme, setSystemTheme] = useState(prefersDark.matches ? darkTheme : lightTheme)\n  prefersDark.addEventListener('change', (e) => {\n    setSystemTheme(e.matches ? darkTheme : lightTheme)\n  })\n  return systemTheme\n}\n\nconst ThemeContext = createContext<ComputedTheme>(toComputedTheme(defaultTheme))\n\ninterface ThemeProviderProps {\n  theme?: Theme\n  children: ReactNode\n}\n\nexport function ThemeProvider({ theme, children }: ThemeProviderProps) {\n  const contextTheme = useContext(ThemeContext)\n  const value = useMemo(() => {\n    return toComputedTheme({\n      ...contextTheme,\n      ...theme,\n    } as Required<Theme>)\n  }, [contextTheme, theme])\n  return (\n    <ThemeContext.Provider value={value}>\n      <ThemedProvider theme={value}>{children}</ThemedProvider>\n    </ThemeContext.Provider>\n  )\n}\n\nfunction toComputedTheme(theme: Required<Theme>): ComputedTheme {\n  return {\n    ...theme,\n    borderRadius: clamp(\n      Number.isFinite(theme.borderRadius) ? (theme.borderRadius as number) : theme.borderRadius ? 1 : 0\n    ),\n    onHover: (color: string) =>\n      color === theme.primary ? transparentize(0.4, theme.primary) : mix(0.16, theme.primary, color),\n  }\n\n  function clamp(value: number) {\n    return Math.min(Math.max(value, 0), 1)\n  }\n}\n","/* eslint-disable no-restricted-imports */\nimport styled, {\n  css as styledCss,\n  keyframes as styledKeyframes,\n  ThemedBaseStyledInterface,\n  ThemedCssFunction,\n  ThemeProvider as StyledProvider,\n  ThemeProviderComponent,\n  useTheme as useStyled,\n} from 'styled-components/macro'\n\nimport { ComputedTheme } from './theme'\n\nexport default styled as unknown as ThemedBaseStyledInterface<ComputedTheme>\nexport const css = styledCss as unknown as ThemedCssFunction<ComputedTheme>\nexport const keyframes = styledKeyframes\nexport const useTheme = useStyled as unknown as () => ComputedTheme\nexport const ThemedProvider = StyledProvider as unknown as ThemeProviderComponent<ComputedTheme>\n","import { darken, lighten, opacify, transparentize } from 'polished'\nimport { readableColor } from 'polished'\nimport { ReactNode, useMemo } from 'react'\nimport { hex } from 'wcag-contrast'\n\nimport { ThemedProvider, useTheme } from './styled'\nimport { Colors, ComputedTheme } from './theme'\n\ntype DynamicColors = Pick<Colors, 'interactive' | 'outline' | 'primary' | 'secondary' | 'onInteractive'>\n\nconst black = 'hsl(0, 0%, 0%)'\nconst white = 'hsl(0, 0%, 100%)'\n\nconst light: DynamicColors = {\n  // surface\n  interactive: transparentize(1 - 0.54, black),\n  outline: transparentize(1 - 0.24, black),\n\n  // text\n  primary: black,\n  secondary: transparentize(1 - 0.64, black),\n  onInteractive: white,\n}\n\nconst dark: DynamicColors = {\n  // surface\n  interactive: transparentize(1 - 0.48, white),\n  outline: transparentize(1 - 0.12, white),\n\n  // text\n  primary: white,\n  secondary: transparentize(1 - 0.6, white),\n  onInteractive: black,\n}\n\nexport function getDynamicTheme(theme: ComputedTheme, color: string): ComputedTheme {\n  const colors = { light, dark }[readableColor(color, 'light', 'dark', false) as 'light' | 'dark']\n  return {\n    ...theme,\n    ...colors,\n    module: color,\n    onHover: (color: string) => (color === colors.primary ? transparentize(0.4, colors.primary) : opacify(0.25, color)),\n  }\n}\n\nfunction getAccessibleColor(theme: ComputedTheme, color: string) {\n  const dynamic = getDynamicTheme(theme, color)\n  let { primary } = dynamic\n  let AAscore = hex(color, primary)\n  const contrastify = hex(color, '#000') > hex(color, '#fff') ? darken : lighten\n  while (AAscore < 3) {\n    color = contrastify(0.005, color)\n    primary = getDynamicTheme(theme, color).primary\n    AAscore = hex(color, primary)\n  }\n  return color\n}\n\ninterface DynamicThemeProviderProps {\n  color?: string\n  children: ReactNode\n}\n\nexport function DynamicThemeProvider({ color, children }: DynamicThemeProviderProps) {\n  const theme = useTheme()\n  const value = useMemo(() => {\n    if (!color) {\n      return theme\n    }\n\n    const accessibleColor = getAccessibleColor(theme, color)\n    return getDynamicTheme(theme, accessibleColor)\n  }, [theme, color])\n  return (\n    <ThemedProvider theme={value}>\n      <div style={{ color: value.primary }}>{children}</div>\n    </ThemedProvider>\n  )\n}\n","export enum Layer {\n  OVERLAY = 100,\n  DIALOG = 1000,\n  TOOLTIP = 2000,\n}\n","import { Text, TextProps as TextPropsWithCss } from 'rebass'\n\nimport styled, { useTheme } from './styled'\nimport { Color } from './theme'\n\ntype TextProps = Omit<TextPropsWithCss, 'css' | 'color'> & { color?: Color }\n\nconst TextWrapper = styled(Text)<{ color?: Color; lineHeight: string }>`\n  color: ${({ color = 'currentColor', theme }) => theme[color as Color]};\n  // Avoid the need for placeholders by setting min-height to line-height.\n  min-height: ${({ lineHeight }) => lineHeight};\n`\n\nconst TransitionTextWrapper = styled(TextWrapper)`\n  transition: font-size 0.25s ease-out, line-height 0.25s ease-out;\n`\n\nexport function H1(props: TextProps) {\n  return <TextWrapper className=\"headline headline-1\" fontSize={36} fontWeight={400} lineHeight=\"36px\" {...props} />\n}\n\nexport function H2(props: TextProps) {\n  return <TextWrapper className=\"headline headline-2\" fontSize={24} fontWeight={400} lineHeight=\"32px\" {...props} />\n}\n\nexport function H3(props: TextProps) {\n  return <TextWrapper className=\"headline headline-3\" fontSize={20} fontWeight={400} lineHeight=\"20px\" {...props} />\n}\n\nexport function Subhead1(props: TextProps) {\n  return <TextWrapper className=\"subhead subhead-1\" fontSize={16} fontWeight={500} lineHeight=\"16px\" {...props} />\n}\n\nexport function Subhead2(props: TextProps) {\n  return <TextWrapper className=\"subhead subhead-2\" fontSize={14} fontWeight={500} lineHeight=\"14px\" {...props} />\n}\n\nexport function Body1(props: TextProps) {\n  return <TextWrapper className=\"body body-1\" fontSize={16} fontWeight={400} lineHeight=\"24px\" {...props} />\n}\n\nexport function Body2(props: TextProps) {\n  return <TextWrapper className=\"body body-2\" fontSize={14} fontWeight={400} lineHeight=\"20px\" {...props} />\n}\n\nexport function Caption(props: TextProps) {\n  return <TextWrapper className=\"caption\" fontSize={12} fontWeight={400} lineHeight=\"16px\" {...props} />\n}\n\nexport function Badge(props: TextProps) {\n  return <TextWrapper className=\"badge\" fontSize={8} fontWeight={600} lineHeight=\"8px\" {...props} />\n}\n\nexport function ButtonLarge(props: TextProps) {\n  return <TextWrapper className=\"button button-large\" fontSize={20} fontWeight={500} lineHeight=\"20px\" {...props} />\n}\n\nexport function ButtonMedium(props: TextProps) {\n  return <TextWrapper className=\"button button-medium\" fontSize={16} fontWeight={500} lineHeight=\"16px\" {...props} />\n}\n\nexport function ButtonSmall(props: TextProps) {\n  return <TextWrapper className=\"button button-small\" fontSize={14} fontWeight={500} lineHeight=\"14px\" {...props} />\n}\n\nexport function TransitionButton(props: TextProps & { buttonSize: 'small' | 'medium' | 'large' }) {\n  const className = `button button-${props.buttonSize}`\n  const fontSize = { small: 14, medium: 16, large: 20 }[props.buttonSize]\n  const lineHeight = `${fontSize}px`\n  return (\n    <TransitionTextWrapper\n      className={className}\n      fontSize={fontSize}\n      fontWeight={500}\n      lineHeight={lineHeight}\n      {...props}\n    />\n  )\n}\n\nexport function Code(props: TextProps) {\n  const { fontFamilyCode } = useTheme()\n  return (\n    <TextWrapper\n      className=\"code\"\n      fontSize={12}\n      fontWeight={400}\n      lineHeight=\"16px\"\n      fontFamily={fontFamilyCode}\n      {...props}\n    />\n  )\n}\n","import { detectOverflow } from '@popperjs/core';\n\nvar maxSize = {\n  name: 'maxSize',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['offset', 'preventOverflow', 'flip'],\n  fn: function fn(_ref) {\n    var state = _ref.state,\n        name = _ref.name,\n        options = _ref.options;\n    var overflow = detectOverflow(state, options);\n\n    var _ref2 = state.modifiersData.preventOverflow || {\n      x: 0,\n      y: 0\n    },\n        x = _ref2.x,\n        y = _ref2.y;\n\n    var _state$rects$popper = state.rects.popper,\n        width = _state$rects$popper.width,\n        height = _state$rects$popper.height;\n\n    var _state$placement$spli = state.placement.split('-'),\n        basePlacement = _state$placement$spli[0];\n\n    var widthProp = basePlacement === 'left' ? 'left' : 'right';\n    var heightProp = basePlacement === 'top' ? 'top' : 'bottom';\n    state.modifiersData[name] = {\n      width: width - overflow[widthProp] - x,\n      height: height - overflow[heightProp] - y\n    };\n  }\n};\n\nexport default maxSize;\n","import { Options, Placement } from '@popperjs/core'\nimport styled, { Layer } from 'lib/theme'\nimport maxSize from 'popper-max-size-modifier'\nimport React, { createContext, useContext, useMemo, useRef, useState } from 'react'\nimport { createPortal } from 'react-dom'\nimport { usePopper } from 'react-popper'\n\nconst BoundaryContext = createContext<HTMLDivElement | null>(null)\n\nexport const BoundaryProvider = BoundaryContext.Provider\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  background-color: ${({ theme }) => theme.dialog};\n  border: 1px solid ${({ theme }) => theme.outline};\n  border-radius: 0.5em;\n  opacity: ${(props) => (props.show ? 1 : 0)};\n  padding: 8px;\n  transition: visibility 0.25s linear, opacity 0.25s linear;\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\n  z-index: ${Layer.TOOLTIP};\n`\n\nconst Reference = styled.div`\n  display: inline-block;\n`\n\nconst Arrow = styled.div`\n  height: 8px;\n  width: 8px;\n  z-index: ${Layer.TOOLTIP};\n\n  ::before {\n    background: ${({ theme }) => theme.dialog};\n    border: 1px solid ${({ theme }) => theme.outline};\n    content: '';\n    height: 8px;\n    position: absolute;\n    transform: rotate(45deg);\n    width: 8px;\n  }\n\n  &.arrow-top {\n    bottom: -4px;\n    ::before {\n      border-radius: 1px;\n      border-left: none;\n      border-top: none;\n    }\n  }\n\n  &.arrow-bottom {\n    top: -5px; // includes -1px from border\n    ::before {\n      border-bottom: none;\n      border-right: none;\n      border-radius: 1px;\n    }\n  }\n\n  &.arrow-left {\n    right: -4px;\n    ::before {\n      border-bottom: none;\n      border-left: none;\n      border-radius: 1px;\n    }\n  }\n\n  &.arrow-right {\n    left: -5px; // includes -1px from border\n    ::before {\n      border-radius: 1px;\n      border-right: none;\n      border-top: none;\n    }\n  }\n`\n\nexport interface PopoverProps {\n  content: React.ReactNode\n  show: boolean\n  children: React.ReactNode\n  placement: Placement\n  offset?: number\n  contained?: true\n}\n\nexport default function Popover({ content, show, children, placement, offset, contained }: PopoverProps) {\n  const boundary = useContext(BoundaryContext)\n  const reference = useRef<HTMLDivElement>(null)\n\n  // Use callback refs to be notified when instantiated\n  const [popover, setPopover] = useState<HTMLDivElement | null>(null)\n  const [arrow, setArrow] = useState<HTMLDivElement | null>(null)\n\n  const options = useMemo((): Options => {\n    const modifiers: Options['modifiers'] = [\n      { name: 'offset', options: { offset: [4, offset || 4] } },\n      { name: 'arrow', options: { element: arrow, padding: 4 } },\n    ]\n    if (contained) {\n      modifiers.push(\n        { name: 'preventOverflow', options: { boundary, padding: 8 } },\n        { name: 'flip', options: { boundary, padding: 8 } },\n        { ...maxSize, options: { boundary, padding: 8 } },\n        {\n          name: 'applyMaxSize',\n          enabled: true,\n          phase: 'beforeWrite',\n          requires: ['maxSize'],\n          fn({ state }) {\n            const { width } = state.modifiersData.maxSize\n            state.styles.popper = {\n              ...state.styles.popper,\n              maxWidth: `${width}px`,\n            }\n          },\n        }\n      )\n    }\n    return {\n      placement,\n      strategy: 'absolute',\n      modifiers,\n    }\n  }, [offset, arrow, contained, placement, boundary])\n\n  const { styles, attributes } = usePopper(reference.current, popover, options)\n\n  return (\n    <>\n      <Reference ref={reference}>{children}</Reference>\n      {boundary &&\n        createPortal(\n          <PopoverContainer show={show} ref={setPopover} style={styles.popper} {...attributes.popper}>\n            {content}\n            <Arrow\n              className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\n              ref={setArrow}\n              style={styles.arrow}\n              {...attributes.arrow}\n            />\n          </PopoverContainer>,\n          boundary\n        )}\n    </>\n  )\n}\n"],"sourceRoot":""}