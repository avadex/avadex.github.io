(this["webpackJsonp@uniswap/widgets"]=this["webpackJsonp@uniswap/widgets"]||[]).push([[80],{651:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return j}));var n=r(3),u=r.n(n),o=r(25),a=r(11),c=r(78),i=r(9),s=r(105),d=r(1),l=r(116),b=r(408),v=r(205),f=r(206),p=r(337),O={protocols:[c.Protocol.V2,c.Protocol.V3]};function j(e,t,r){var n,c=null===t||void 0===t?void 0:t.currency.chainId,j=Object(v.default)().library,T=Object(d.useMemo)((function(){return e===i.TradeType.EXACT_INPUT?[null===t||void 0===t?void 0:t.currency,r]:[r,null===t||void 0===t?void 0:t.currency]}),[t,r,e]),m=Object(a.a)(T,2),y=m[0],A=m[1],h=Object(p.useRoutingAPIArguments)({tokenIn:y,tokenOut:A,amount:t,tradeType:e,useClientSideRouter:!0}),I=Object(d.useMemo)((function(){return c&&j&&{chainId:c,provider:j}}),[c,j]),w=Object(d.useState)(!1),R=Object(a.a)(w,2),g=R[0],U=R[1],k=Object(d.useState)({quoteResult:void 0,error:void 0}),C=Object(a.a)(k,2),N=C[0],q=N.quoteResult,D=N.error,E=C[1];Object(d.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h||!I){e.next=6;break}return e.next=4,Object(f.getClientSideQuote)(h,I,O);case 4:t=e.sent,E({quoteResult:t.data,error:t.error});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E({quoteResult:void 0,error:!0});case 11:return e.prev=11,U(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}U(!0),function(){e.apply(this,arguments)}()}),[h,I]);var P=Object(d.useMemo)((function(){return Object(b.a)(y,A,e,q)}),[y,A,q,e]),S=null!==(n=Object(s.b)(null===q||void 0===q?void 0:q.gasUseEstimateUSD))&&void 0!==n?n:null;return Object(d.useMemo)((function(){if(!y||!A)return{state:l.b.INVALID,trade:void 0};if(g&&!q)return{state:l.b.LOADING,trade:void 0};var t=void 0;if(e===i.TradeType.EXACT_INPUT&&A&&q&&(t=i.CurrencyAmount.fromRawAmount(A,q.quote)),e===i.TradeType.EXACT_OUTPUT&&y&&q&&(t=i.CurrencyAmount.fromRawAmount(y,q.quote)),D||!t||!P||0===P.length||!h)return{state:l.b.NO_ROUTE_FOUND,trade:void 0};try{var r=Object(b.b)(P,e,S);return{state:l.b.VALID,trade:r}}catch(n){return console.debug("transformRoutesToTrade failed: ",n),{state:l.b.INVALID,trade:void 0}}}),[y,A,g,q,e,D,P,h,S])}}}]);
//# sourceMappingURL=80.d9e32232.chunk.js.map